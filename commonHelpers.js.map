{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst url = \"https://pixabay.com/api/\";\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    const q = event.currentTarget.elements[0].value;\n\n    renderIMG(q);\n    loader.classList.add('loading');\n});\n\nconst getIMG = (q = \"\") => {\n    return fetch(url + `?key=41729431-93e496ed3cd794296b45db789&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.hits.length) {\n                return data.hits;\n            } else {\n                iziToast.show({\n                    title: 'Sorry, there are no images matching your search query. Please try again!Reqest is not ok',\n                    titleColor: 'white',\n                    color: 'white',\n                    backgroundColor: 'red',\n                    position: 'topRight',\n                }); \n            }\n         \n        })\n}\n\nconst getImageHTML = ({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => `           \n    <li class=\"gallery-item\">\n        <div class=gallery-card>\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width:\"360\" height:\"200\" />\n            </a>\n\n            <ul class=\"gallery-card-list\">\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Likes</h2>\n                    <p class=\"gallery-card-information\">${likes}</p>\n                </li>\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Views</h2>\n                    <p class=\"gallery-card-information\">${views}</p>\n                </li>\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Comments</h2>\n                    <p class=\"gallery-card-information\">${comments}</p>\n                </li>\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Downloads</h2>\n                    <p class=\"gallery-card-information\">${downloads}</p>\n                </li>\n            </ul>\n        </div>\n    </li>\n`\n\nfunction renderIMG(q) {\n    getIMG(q)\n        .then(images => {\n            gallery.innerHTML = \"\";\n            images.map(image => {\n                gallery.insertAdjacentHTML(\"afterbegin\", getImageHTML(image));\n                const lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n            })\n            loader.classList.remove('loading');\n        })\n        .catch(error => console(error));\n}\n\n\n\n    \n\n\n\n\n\n\n\n\n\n\n\n"],"names":["form","gallery","loader","url","event","q","renderIMG","getIMG","response","data","iziToast","getImageHTML","largeImageURL","webformatURL","tags","likes","views","comments","downloads","images","image","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAM,2BAEZH,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAID,EAAM,cAAc,SAAS,GAAG,MAE1CE,EAAUD,CAAC,EACXH,EAAO,UAAU,IAAI,SAAS,CAClC,CAAC,EAED,MAAMK,EAAS,CAACF,EAAI,KACT,MAAMF,EAAM,6CAA6CE,2DAA2D,EACtH,KAAKG,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,OACV,OAAOA,EAAK,KAEZC,EAAS,KAAK,CACV,MAAO,2FACP,WAAY,QACZ,MAAO,QACP,gBAAiB,MACjB,SAAU,UAC9B,CAAiB,CAGjB,CAAS,EAGHC,EAAe,CAAC,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,4CAGrDN;AAAA,kDACMC,WAAsBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAMdC;AAAA;AAAA;AAAA;AAAA,0DAIAC;AAAA;AAAA;AAAA;AAAA,0DAIAC;AAAA;AAAA;AAAA;AAAA,0DAIAC;AAAA;AAAA;AAAA;AAAA;AAAA,EAO1D,SAASZ,EAAUD,EAAG,CAClBE,EAAOF,CAAC,EACH,KAAKc,GAAU,CACZlB,EAAQ,UAAY,GACpBkB,EAAO,IAAIC,GAAS,CAChBnB,EAAQ,mBAAmB,aAAcU,EAAaS,CAAK,CAAC,EAC3C,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,IAAK,CAC5G,CAAa,EACDnB,EAAO,UAAU,OAAO,SAAS,CAC7C,CAAS,EACA,MAAMoB,GAAS,QAAQA,CAAK,CAAC,CACtC"}