{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    const q = event.currentTarget.elements.search.value.trim();\n\n    if (q.length == 0) {\n        iziToast.show({\n            title: 'Sorry, there are no images matching your search query. Please try again!Reqest is not ok',\n            titleColor: 'white',\n            color: 'white',\n            backgroundColor: 'red',\n            position: 'topRight',\n        });\n    } else {\n        renderIMG(q);\n        showLoader();\n    }\n});\n\nconst getIMG = (query = \"\") => {\n    const url = \"https://pixabay.com/api/\";\n    const searchParams = new URLSearchParams({\n        key: \"41729431-93e496ed3cd794296b45db789\",\n        q: `${query}`,\n        image_type: \"photo\",\n        rientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n\n    return fetch(url + \"?\" + searchParams)\n        .then(response => {\n            if (!response.ok) {\n                iziToast.show({\n                    title: 'Sorry, there are no images matching your search query. Please try again!Reqest is not ok',\n                    titleColor: 'white',\n                    color: 'white',\n                    backgroundColor: 'red',\n                    position: 'topRight',\n                });\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length) {\n                return data.hits;\n            } else {\n                iziToast.show({\n                    title: 'Sorry, there are no images matching your search query. Please try again!Reqest is not ok',\n                    titleColor: 'white',\n                    color: 'white',\n                    backgroundColor: 'red',\n                    position: 'topRight',\n                });\n                hideLoader();\n            }\n        });\n}\n\nconst getImageHTML = ({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => `           \n    <li class=\"gallery-item\">\n        <div class=gallery-card>\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width:\"360\" height:\"200\" />\n            </a>\n\n            <ul class=\"gallery-card-list\">\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Likes</h2>\n                    <p class=\"gallery-card-information\">${likes}</p>\n                </li>\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Views</h2>\n                    <p class=\"gallery-card-information\">${views}</p>\n                </li>\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Comments</h2>\n                    <p class=\"gallery-card-information\">${comments}</p>\n                </li>\n                <li class=\"gallery-card-item\">\n                    <h2 class=\"gallery-card-title\">Downloads</h2>\n                    <p class=\"gallery-card-information\">${downloads}</p>\n                </li>\n            </ul>\n        </div>\n    </li>\n`\n\nfunction renderIMG(q) {\n    getIMG(q)\n        .then(images => {\n            gallery.innerHTML = \"\";\n            images.map(image => {\n                gallery.insertAdjacentHTML(\"beforeend\", getImageHTML(image));\n                lightbox.refresh();\n            })\n            hideLoader();\n        })\n        .catch(error => console.log(error), hideLoader());\n}\n\nfunction showLoader() {\n    loader.classList.add('loading');\n}\n\nfunction hideLoader() {\n    loader.classList.remove('loading');\n}\n\n"],"names":["form","gallery","loader","lightbox","SimpleLightbox","event","q","iziToast","renderIMG","showLoader","getIMG","query","url","searchParams","response","data","hideLoader","getImageHTML","largeImageURL","webformatURL","tags","likes","views","comments","downloads","images","image","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAE5FJ,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAID,EAAM,cAAc,SAAS,OAAO,MAAM,OAEhDC,EAAE,QAAU,EACZC,EAAS,KAAK,CACV,MAAO,2FACP,WAAY,QACZ,MAAO,QACP,gBAAiB,MACjB,SAAU,UACtB,CAAS,GAEDC,EAAUF,CAAC,EACXG,IAER,CAAC,EAED,MAAMC,EAAS,CAACC,EAAQ,KAAO,CAC3B,MAAMC,EAAM,2BACNC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GAAGF,IACN,WAAY,QACZ,WAAY,aACZ,WAAY,MACpB,CAAK,EAED,OAAO,MAAMC,EAAM,IAAMC,CAAY,EAChC,KAAKC,IACGA,EAAS,IACVP,EAAS,KAAK,CACV,MAAO,2FACP,WAAY,QACZ,MAAO,QACP,gBAAiB,MACjB,SAAU,UAC9B,CAAiB,EAEEO,EAAS,OACnB,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,OACV,OAAOA,EAAK,KAEZR,EAAS,KAAK,CACV,MAAO,2FACP,WAAY,QACZ,MAAO,QACP,gBAAiB,MACjB,SAAU,UAC9B,CAAiB,EACDS,GAEhB,CAAS,CACT,EAEMC,EAAe,CAAC,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,4CAGrDN;AAAA,kDACMC,WAAsBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAMdC;AAAA;AAAA;AAAA;AAAA,0DAIAC;AAAA;AAAA;AAAA;AAAA,0DAIAC;AAAA;AAAA;AAAA;AAAA,0DAIAC;AAAA;AAAA;AAAA;AAAA;AAAA,EAO1D,SAAShB,EAAUF,EAAG,CAClBI,EAAOJ,CAAC,EACH,KAAKmB,GAAU,CACZxB,EAAQ,UAAY,GACpBwB,EAAO,IAAIC,GAAS,CAChBzB,EAAQ,mBAAmB,YAAagB,EAAaS,CAAK,CAAC,EAC3DvB,EAAS,QAAO,CAChC,CAAa,EACDa,GACZ,CAAS,EACA,MAAMW,GAAS,QAAQ,IAAIA,CAAK,EAAGX,EAAU,CAAE,CACxD,CAEA,SAASP,GAAa,CAClBP,EAAO,UAAU,IAAI,SAAS,CAClC,CAEA,SAASc,GAAa,CAClBd,EAAO,UAAU,OAAO,SAAS,CACrC"}